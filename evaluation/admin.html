<!DOCTYPE html>
<html lang="en">
<head>

    <title>Admin dashboard Page</title>
    <style>
body{
    font-family: Arial, Helvetica, sans-serif;
    margin: 0;
    padding: 0;
    background-color: #f5f5f5;
}
.navbar{

background-color: #333;
color: white;
padding: 15px 20px;
display: flex;
justify-content: space-between;
align-items: center;
gap: 20px;


}
.navbar .filters{
    display: flex;
    gap: 15px;
    align-items: center;

}
.filter-group{
    display: flex;
    gap: 10px;
    align-items: center;
}

select,button{
    padding: 8px 12px;
    border-radius:4px ;


border: 1px solid #ccc;
}












    </style>
</head>
<body>
  <!-- Navbar -->
   <div class="navbar">
    <h2>
        Fleet Management Admin
    </h2>
    <div class="filter-group">
        <label>Category : </label>
        <select id="CategoryFilter">
            <option value="all">All</option>
            <option value="auto">All</option>
            <option value="car">All</option>
            <option value="truck">All</option>
            <option value="bus">All</option>
        </select>
        <div class="filter-group">
            <label>Availability: </label>
            <select id="availabilityFilter">
                <option value="all">All</option>
                  <option value="all">available</option>
                    <option value="all">unavailable</option>
            </select>
        </div>
        <button id="clearFilter">Clear Filter</button>
    </div>
   </div>


   <!-- SIDEBAR -->
    <div class="sidebar">
        <h3>Add New Vehicle</h3>
        <div class="fleet-form">
            <input type="text" id="regNo" placeholder="Reg No of Vehicle" required>
        <select id="category">
<option value="">---Select Category---</option>
<option value="auto">Auto</option>
<option value="car">Car</option>
<option value="truck">Truck</option>
<option value="bus">Bus</option>
        </select>
        

         <input type="text" id="driverName" placeholder="Driver Name" required>
        <select id="isAvailable">
<option value="available">Available</option>
<option value="unavailable">unavailable</option>
        </select>
        <button onclick="addFleet()" type="button">Add Fleet</button>
        
        </div>
    </div>




<!-- 
    Main content -->
    <div class="mian-content">
        <h2>Fleet Dashboard</h2>
        <div class="fleet-cards" id="fleetCardsContainer">

        </div>
    </div>
</body>
<script>
let vehicles=[];
const regNoInput=document.getElementById('regNo');
const categorySelect=document.getElementById('category');
const driverNameInput=document.getElementById('driverName');
const isAvailableSelect=document.getElementById('isAvailable');
const fleetCardsContainer=document.getElementById('fleetCardsContainer');

const categoryFilter=document.getElementById('categoryFilter');
const availabilityFilter=document.getElementById('availabilityFilter');
const clearFilter=document.getElementById('clearFilter');


//add function of fleet
function addFleet() {
    const reg=regNoInput.value.trim();
    const category=categorySelect.value;
    const driverName=driverNameInput.value.trim();
    const isAvailable=isAvailableSelect.value;

if(!regNo){
    alert("Reg No is required");return;

}
if(!category)
{
    alert("Please select a category");return;
}

if(!driverName)
{
    alert("driverName is required");return;
}


vehicles.push({
    id:Date.now(),
    regNo,category,driverName,isAvailable
})

regNoInput.value=''
categorySelect.value=''
driverNameInput.value=''
isAvailableSelect.value='avilable'

rendervehicles();
alert("vehicles added successfully")


}

function renderVehicles(){
    fleetCardsContainer.innerHTML='';
    vehicles.forEach(vehicle=>{
        const card=document.createElement('div')
        card.className='vehicle-card'
        card.dataset.id=vehicle.id;
        card.dataset.category=vehicle.category;
        card.dataset.availability=vehicle.isAvailable;


        if((
            categoryFilter.value!=='all' && vehicle.category!==categoryFilter.value)||
            (availabilityFilter.value!=='all' && vehicle.isAvailable!==availabilityFilter.value
        )){

            card.classList.add('hidden')
        }
 card.innerHTML=`<img src="https://coding-platform.s3.amazonaws.com/dev/lms/tickets/5e80fcb6-3f8e-480c-945b-30a5359eb40e/JNmYjkVr3WOjsrbu.png" alt="vehicle">
 
 <h4>${vehicle.regNo}</h4>
 <p><strong>Category:</strong>${vehicle.category}</p>
  <p><strong>Driver:</strong>${vehicle.driverName}</p>
  <p><strong>Status:</strong>${vehicle.isAvailable==='available'?'Available':'Unavailable'}</p>
  <div class="card-actions">
    <button onclick="updateDriver(${vehicle.id})">Update Driver</button>
     <button onclick="toggleAvailability(${vehicle.id})">Change Availability</button>
  <button onclick="deleteVehicle(${vehicle.id})">Delete Vehicle</button>
 `;
 fleetCardsContainer.appendChild(card)

 } )
}


function updateDriver(id){
    const vehicle=vehicles.find(v=>v.id===id)
    if(!vehicle)return;
    const newName=prompt("Enter new driver name:", vehicle.driverName)
    if(newName===null) return;

  const trimmedName=newName.trim();
    if(trimmedName==='') {
        alert('Driver name cannot be empty ');
        return
    }

    vehicle.driverName=trimmedName;
    renderVehicles();
}


function toggleAvailability(id){
    const vehicle=vehicles.find(v=>v.id===id)
    if(!vehicle)
return

vehicle.isAvailable=vehicle.find(v=>v.id===id)
renderVehicles();

}


function deleteVehicle(id){
    if(!confirm("Are you sure you want to delete this vehicle?"))
    return;
}

function applyFilters() {
    renderVehicles();
    
}

categoryFilter.addEventListener('change', applyFilters);
availabilityFilter.addEventListener('change', applyFilters )

clearFilterButton.addEventListener('click',()=>{
clearFilter.value='all';
availabilityFilter.value='all'
renderVehicles()
})


renderVehicles();

</script>
</html>